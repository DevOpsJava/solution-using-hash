## List your azure subscriptions
Get your 'ARM_SUBSCRIPTION_ID' secret using this commmand

```
az account list --output table

Name                  CloudName    SubscriptionId                        State    IsDefault
--------------------  -----------  ------------------------------------  -------  -----------
Azure subscription 1  AzureCloud   ************************************  Enabled  True
```


## Add azure Active Domain Service Principal for deployment
Get your 'ARM_CLIENT_ID', 'ARM_CLIENT_SECRET' and 'ARM_TENANT_ID' using this command:
```
Command
    az ad sp create : Create a service principal.

Arguments
    --id    [Required] : Identifier uri, application id, or object id of the associated application.

Global Arguments
    --debug            : Increase logging verbosity to show all debug logs.
    --help -h          : Show this help message and exit.
    --only-show-errors : Only show errors, suppressing warnings.
    --output -o        : Output format.  Allowed values: json, jsonc, none, table, tsv, yaml, yamlc.
                         Default: json.
    --query            : JMESPath query string. See http://jmespath.org/ for more information and
                         examples.
    --verbose          : Increase logging verbosity. Use --debug for full debug logs.

Examples
    Create a service principal. (autogenerated)
        az ad sp create --id 00000000-0000-0000-0000-000000000000
```

## Pulumi access token
Sign in here and create your 'PULUMI_ACCESS_TOKEN' here
* https://app.pulumi.com/janschristensen/settings/tokens

### Secets 
Go here https://github.com/DevOpsJava/solution-using-hash/settings/secrets/actions and add following:
* ARM_CLIENT_ID
* ARM_CLIENT_SECRET
* ARM_SUBSCRIPTION_ID
* ARM_TENANT_ID
* PULUMI_ACCESS_TOKEN

## Assign Contributor role to Service Principal
From Cloud Console using powershell
```
New-AzRoleAssignment -ObjectId $groupId `
  -RoleDefinitionName "Contributor" `
  -ResourceGroupName "rbac-tutorial-resource-group"
```
